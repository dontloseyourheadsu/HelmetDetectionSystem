<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ablation Study: Sterile Field Detector</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .scroll-hidden::-webkit-scrollbar { display: none; }
        .glass {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .animate-enter {
            animation: slideIn 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        @keyframes slideIn {
            to { opacity: 1; transform: translateY(0); }
        }
        .delay-100 { animation-delay: 100ms; }
        .delay-200 { animation-delay: 200ms; }
        .delay-300 { animation-delay: 300ms; }
        
        /* Custom wave animation for the noise demo */
        @keyframes waveMove {
            0% { transform: translateX(0); }
            100% { transform: translateX(-50%); }
        }
        .wave-path {
            animation: waveMove 4s linear infinite;
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800">

    <!-- HERO SECTION -->
    <header class="relative bg-slate-900 text-white overflow-hidden pb-20 pt-10">
        <div class="absolute inset-0 opacity-20">
            <!-- abstract background grid -->
            <svg class="w-full h-full" xmlns="http://www.w3.org/2000/svg">
                <defs>
                    <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
                        <path d="M 40 0 L 0 0 0 40" fill="none" stroke="white" stroke-width="0.5"/>
                    </pattern>
                </defs>
                <rect width="100%" height="100%" fill="url(#grid)" />
            </svg>
        </div>
        
        <div class="container mx-auto px-6 relative z-10">
            <div class="flex flex-col md:flex-row justify-between items-center mb-12">
                <div class="text-emerald-400 font-mono text-sm tracking-wider">UDLAP / COMPUTER VISION</div>
                <div class="text-slate-400 text-sm">Project: Sterile Field Monitor</div>
            </div>
            
            <div class="max-w-3xl">
                <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight mb-6 animate-enter">
                    Model <span class="text-emerald-400">Ablation</span> Study
                </h1>
                <p class="text-xl text-slate-300 leading-relaxed animate-enter delay-100">
                    Scientific proof that our texture-specific preprocessing is vital. 
                    We systematically removed components to prove they aren't just "nice to have"â€”they are critical for survival.
                </p>
            </div>
        </div>
    </header>

    <!-- EXPLANATION SECTION -->
    <section class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <div class="flex flex-col md:flex-row gap-12 items-center">
                <div class="md:w-1/2 animate-enter delay-200">
                    <h2 class="text-3xl font-bold mb-4 text-slate-900">Wait, what is an "Ablation Study"?</h2>
                    <p class="text-lg text-slate-600 mb-6">
                        Think of a car engine. To prove the turbocharger makes it fast, you don't just race the car. 
                        You <strong>remove the turbocharger</strong> (ablate it) and race again. 
                    </p>
                    <p class="text-lg text-slate-600">
                        If the car becomes slow, you've scientifically proven the turbocharger was necessary.
                        In our case, we removed our <strong>Top-Hat Filter</strong> to see if the AI would crash.
                    </p>
                </div>
                
                <!-- Visual Analogy -->
                <div class="md:w-1/2 flex justify-center animate-enter delay-300">
                    <div class="relative w-80 h-64 bg-slate-50 rounded-xl border border-slate-200 p-6 shadow-xl flex flex-col items-center justify-center">
                        <div class="flex gap-4 mb-4">
                            <!-- Part 1 -->
                            <div class="w-16 h-16 bg-blue-500 rounded-lg flex items-center justify-center text-white font-bold shadow-lg">AI</div>
                            <!-- Part 2 -->
                            <div class="w-16 h-16 bg-emerald-500 rounded-lg flex items-center justify-center text-white font-bold shadow-lg relative group">
                                Filter
                                <!-- Cross out animation -->
                                <div class="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                    <div class="w-full h-1 bg-red-500 rotate-45 absolute"></div>
                                    <div class="w-full h-1 bg-red-500 -rotate-45 absolute"></div>
                                </div>
                            </div>
                            <!-- Part 3 -->
                            <div class="w-16 h-16 bg-blue-500 rounded-lg flex items-center justify-center text-white font-bold shadow-lg">Cam</div>
                        </div>
                        <div class="text-center text-sm font-mono text-slate-400">Hover to "Ablate" (Remove)</div>
                        <div class="mt-4 px-4 py-2 bg-red-50 text-red-600 rounded-full text-xs font-bold opacity-0 transition-opacity duration-300" id="fail-msg">SYSTEM FAILURE</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- THE CANDIDATES -->
    <section class="py-20 bg-slate-50 border-y border-slate-200">
        <div class="container mx-auto px-6">
            <h2 class="text-center text-3xl font-bold mb-12">The 3 Experiments</h2>
            
            <div class="grid md:grid-cols-3 gap-8">
                <!-- Experiment 1: Raw -->
                <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-200 hover:shadow-md transition">
                    <div class="w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-4 text-2xl">ðŸ“¸</div>
                    <h3 class="text-xl font-bold mb-2">1. Raw Input (No Filter)</h3>
                    <p class="text-slate-500 text-sm mb-4">The control group. We feed the raw, unevenly lit video frames directly to the models.</p>
                    <div class="text-xs font-mono text-red-500 bg-red-50 inline-block px-2 py-1 rounded">Hypothesis: Failure</div>
                </div>

                <!-- Experiment 2: Gaussian -->
                <div class="bg-white p-8 rounded-2xl shadow-sm border border-slate-200 hover:shadow-md transition">
                    <div class="w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mb-4 text-2xl">ðŸ’§</div>
                    <h3 class="text-xl font-bold mb-2">2. Gaussian Blur</h3>
                    <p class="text-slate-500 text-sm mb-4">A generic noise reduction technique. Tests if "simple smoothing" is enough.</p>
                    <div class="text-xs font-mono text-orange-500 bg-orange-50 inline-block px-2 py-1 rounded">Hypothesis: Weak Performance</div>
                </div>

                <!-- Experiment 3: Top-Hat -->
                <div class="bg-white p-8 rounded-2xl shadow-xl border-2 border-emerald-400 transform scale-105 relative">
                    <div class="absolute -top-4 left-1/2 transform -translate-x-1/2 bg-emerald-500 text-white px-4 py-1 rounded-full text-xs font-bold tracking-widest uppercase">
                        Current Best
                    </div>
                    <div class="w-12 h-12 bg-emerald-100 rounded-full flex items-center justify-center mb-4 text-2xl">ðŸŽ©</div>
                    <h3 class="text-xl font-bold mb-2">3. Top-Hat Transform</h3>
                    <p class="text-slate-500 text-sm mb-4">Our specialized texture filter that flattens lighting and highlights high-frequency details (hair).</p>
                    <div class="text-xs font-mono text-emerald-600 bg-emerald-50 inline-block px-2 py-1 rounded">Hypothesis: Success</div>
                </div>
            </div>
        </div>
    </section>

    <!-- RESULTS DASHBOARD -->
    <section class="py-20 bg-slate-900 text-white">
        <div class="container mx-auto px-6">
            <h2 class="text-4xl font-bold mb-4">The Results</h2>
            <p class="text-slate-400 mb-12 max-w-2xl">
                We measured the <span class="text-emerald-400 font-bold">Autoencoder Recall</span> (Safety) and the <span class="text-blue-400 font-bold">Classifier Accuracy</span>. 
                The drop in safety when removing the filter is catastrophic.
            </p>

            <div class="grid lg:grid-cols-2 gap-16">
                <!-- CHART 1: AE RECALL (SAFETY) -->
                <div>
                    <h3 class="text-xl font-bold mb-6 flex items-center gap-2">
                        <span class="w-3 h-3 rounded-full bg-emerald-500"></span>
                        Safety Score (Recall)
                        <span class="text-xs text-slate-500 ml-auto font-normal">Target: 100%</span>
                    </h3>
                    
                    <div class="space-y-6">
                        <!-- Bar 1 -->
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span>Top-Hat (Ours)</span>
                                <span class="font-bold text-emerald-400">81%</span>
                            </div>
                            <div class="w-full bg-slate-800 rounded-full h-4 overflow-hidden">
                                <div class="bg-emerald-500 h-full rounded-full" style="width: 81%"></div>
                            </div>
                        </div>
                        
                        <!-- Bar 2 -->
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-slate-400">Gaussian Blur</span>
                                <span class="font-bold text-red-400">0%</span>
                            </div>
                            <div class="w-full bg-slate-800 rounded-full h-4 overflow-hidden">
                                <div class="bg-red-500 h-full rounded-full" style="width: 1%"></div>
                            </div>
                        </div>

                        <!-- Bar 3 -->
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-slate-400">Raw Input</span>
                                <span class="font-bold text-red-400">0%</span>
                            </div>
                            <div class="w-full bg-slate-800 rounded-full h-4 overflow-hidden">
                                <div class="bg-red-500 h-full rounded-full" style="width: 1%"></div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="mt-6 bg-slate-800 p-4 rounded-lg border-l-4 border-red-500 text-sm text-slate-300">
                        <strong>Critical Failure:</strong> Without the specific filter, the Anomaly Detector (AE) caught <strong>zero</strong> contaminants. It was blinded by the shadows.
                    </div>
                </div>

                <!-- CHART 2: CNN ACCURACY -->
                <div>
                    <h3 class="text-xl font-bold mb-6 flex items-center gap-2">
                        <span class="w-3 h-3 rounded-full bg-blue-500"></span>
                        Classifier Accuracy
                        <span class="text-xs text-slate-500 ml-auto font-normal">Target: 100%</span>
                    </h3>
                    
                    <div class="space-y-6">
                        <!-- Bar 1 -->
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span>Top-Hat (Ours)</span>
                                <span class="font-bold text-blue-400">98%</span>
                            </div>
                            <div class="w-full bg-slate-800 rounded-full h-4 overflow-hidden">
                                <div class="bg-blue-500 h-full rounded-full" style="width: 98%"></div>
                            </div>
                        </div>
                        
                        <!-- Bar 2 -->
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-slate-400">Gaussian Blur</span>
                                <span class="font-bold text-slate-400">82%</span>
                            </div>
                            <div class="w-full bg-slate-800 rounded-full h-4 overflow-hidden">
                                <div class="bg-slate-600 h-full rounded-full relative" style="width: 82%">
                                    <span class="absolute right-2 top-0 bottom-0 flex items-center text-[10px] text-white opacity-50">GUESSING</span>
                                </div>
                            </div>
                        </div>

                        <!-- Bar 3 -->
                        <div>
                            <div class="flex justify-between text-sm mb-1">
                                <span class="text-slate-400">Raw Input</span>
                                <span class="font-bold text-slate-400">82%</span>
                            </div>
                            <div class="w-full bg-slate-800 rounded-full h-4 overflow-hidden">
                                <div class="bg-slate-600 h-full rounded-full relative" style="width: 82%">
                                    <span class="absolute right-2 top-0 bottom-0 flex items-center text-[10px] text-white opacity-50">GUESSING</span>
                                </div>
                            </div>
                        </div>
                    </div>

                     <div class="mt-6 bg-slate-800 p-4 rounded-lg border-l-4 border-yellow-500 text-sm text-slate-300">
                        <strong>The "Lazy Student" Effect:</strong> The 82% score is deceptive. The model gave up and guessed "Clean" for every image. Only the Top-Hat model actually learned features.
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- DEEP DIVE: WHY IT FAILED -->
    <section class="py-20 bg-white">
        <div class="container mx-auto px-6">
            <h2 class="text-3xl font-bold mb-12 text-center">Why did "Raw" and "Gaussian" fail?</h2>
            
            <div class="grid md:grid-cols-2 gap-12 items-center">
                <!-- Text Explanation -->
                <div>
                    <h3 class="text-xl font-bold mb-4 text-slate-900">The "Signal-to-Noise" Problem</h3>
                    <p class="text-slate-600 mb-4">
                        Imagine trying to whisper (the hair) while standing next to a jet engine (the shadows). The Autoencoder measures "Error," but the error from the shadows is massive.
                    </p>
                    <ul class="space-y-4 mt-6">
                        <li class="flex gap-4">
                            <div class="w-8 h-8 bg-red-100 text-red-600 rounded-full flex items-center justify-center font-bold text-sm shrink-0">1</div>
                            <p class="text-sm text-slate-600"><strong>Raw Input:</strong> The "waves" of light and shadow are 100x taller than the hair. The threshold must be set high to ignore shadows, so the hair is ignored too.</p>
                        </li>
                        <li class="flex gap-4">
                            <div class="w-8 h-8 bg-emerald-100 text-emerald-600 rounded-full flex items-center justify-center font-bold text-sm shrink-0">2</div>
                            <p class="text-sm text-slate-600"><strong>Top-Hat Input:</strong> We mathematically flatten the waves. The background becomes silent (0). Now, even a tiny whisper (hair) is the loudest thing in the room.</p>
                        </li>
                    </ul>
                </div>

                <!-- VISUALIZATION -->
                <div class="bg-slate-50 border border-slate-200 rounded-xl p-6 shadow-inner overflow-hidden relative h-64">
                    <div class="absolute top-4 left-4 text-xs font-bold text-slate-400 uppercase tracking-widest">Live Visualizer</div>
                    
                    <!-- Graph Container -->
                    <div class="w-full h-full flex flex-col justify-end relative">
                        
                        <!-- SCENARIO 1: RAW (The Problem) -->
                        <div class="absolute inset-0 flex items-center justify-center opacity-100 transition-opacity duration-500" id="vis-raw">
                            <svg class="w-full h-full" preserveAspectRatio="none" viewBox="0 0 100 100">
                                <!-- Threshold Line -->
                                <line x1="0" y1="20" x2="100" y2="20" stroke="red" stroke-width="0.5" stroke-dasharray="2" />
                                <text x="2" y="18" font-size="3" fill="red">Threshold (Must be high to avoid shadows)</text>

                                <!-- The Wave (Shadows) -->
                                <path d="M0,50 Q25,90 50,50 T100,50" fill="none" stroke="#94a3b8" stroke-width="2" class="wave-path" />
                                
                                <!-- The Hair (Signal) - Tiny bump lost in the wave -->
                                <circle cx="50" cy="50" r="1.5" fill="#0f172a" />
                                <text x="45" y="45" font-size="3" fill="#0f172a">Hair (Hidden)</text>
                            </svg>
                        </div>

                        <!-- SCENARIO 2: TOP-HAT (The Solution) -->
                        <div class="absolute inset-0 flex items-center justify-center opacity-0 transition-opacity duration-500" id="vis-tophat">
                            <svg class="w-full h-full" preserveAspectRatio="none" viewBox="0 0 100 100">
                                <!-- Threshold Line -->
                                <line x1="0" y1="80" x2="100" y2="80" stroke="green" stroke-width="0.5" stroke-dasharray="2" />
                                <text x="2" y="78" font-size="3" fill="green">Threshold (Can be low!)</text>

                                <!-- The Flat Line (Background) -->
                                <line x1="0" y1="90" x2="100" y2="90" stroke="#94a3b8" stroke-width="1" />
                                
                                <!-- The Hair (Signal) - HUGE SPIKE -->
                                <path d="M45,90 L50,40 L55,90" fill="#10b981" fill-opacity="0.5" stroke="#10b981" stroke-width="1" />
                                <text x="42" y="35" font-size="3" fill="#10b981" font-weight="bold">DETECTED!</text>
                            </svg>
                        </div>

                    </div>

                    <!-- Toggles -->
                    <div class="absolute bottom-4 right-4 flex gap-2">
                        <button onmouseenter="showRaw()" class="px-3 py-1 text-xs bg-slate-200 rounded hover:bg-slate-300 transition">Show Raw</button>
                        <button onmouseenter="showTopHat()" class="px-3 py-1 text-xs bg-emerald-100 text-emerald-700 rounded hover:bg-emerald-200 transition font-bold">Show Top-Hat</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <footer class="bg-slate-900 text-slate-500 py-12 text-center text-sm">
        <p>Department of Computer Science & Engineering, UDLAP</p>
        <p class="mt-2 opacity-50">Generated for the Sterile Field Micro-Contaminant Project</p>
    </footer>

    <script>
        // Simple Logic for the Visualizer Interaction
        const visRaw = document.getElementById('vis-raw');
        const visTopHat = document.getElementById('vis-tophat');

        function showRaw() {
            visRaw.style.opacity = '1';
            visTopHat.style.opacity = '0';
        }

        function showTopHat() {
            visRaw.style.opacity = '0';
            visTopHat.style.opacity = '1';
        }

        // Logic for the Ablation Interactive in Section 1
        const part = document.querySelector('.group');
        const failMsg = document.getElementById('fail-msg');

        part.addEventListener('mouseenter', () => {
            failMsg.style.opacity = '1';
        });
        part.addEventListener('mouseleave', () => {
            failMsg.style.opacity = '0';
        });
    </script>
</body>
</html>